<?xml version="1.0" encoding="ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>daeso.thirdparty.pexpect</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css" />
  <script type="text/javascript" src="epydoc.js"></script>
</head>

<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="daeso-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

      <th class="navbar" width="100%"></th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <span class="breadcrumbs">
        <a href="daeso-module.html">Package&nbsp;daeso</a> ::
        <a href="daeso.thirdparty-module.html">Package&nbsp;thirdparty</a> ::
        Module&nbsp;pexpect
      </span>
    </td>
    <td>
      <table cellpadding="0" cellspacing="0">
        <!-- hide/show private -->
        <tr><td align="right"><span class="options">[<a href="javascript:void(0);" class="privatelink"
    onclick="toggle_private();">hide&nbsp;private</a>]</span></td></tr>
        <tr><td align="right"><span class="options"
            >[<a href="frames.html" target="_top">frames</a
            >]&nbsp;|&nbsp;<a href="daeso.thirdparty.pexpect-module.html"
            target="_top">no&nbsp;frames</a>]</span></td></tr>
      </table>
    </td>
  </tr>
</table>
<!-- ==================== MODULE DESCRIPTION ==================== -->
<h1 class="epydoc">Module pexpect</h1><p class="nomargin-top"><span class="codelink"><a href="daeso.thirdparty.pexpect-pysrc.html">source&nbsp;code</a></span></p>
<p>Pexpect is a Python module for spawning child applications and 
  controlling them automatically. Pexpect can be used for automating 
  interactive applications such as ssh, ftp, passwd, telnet, etc. It can be
  used to a automate setup scripts for duplicating software package 
  installations on different servers. It can be used for automated software
  testing. Pexpect is in the spirit of Don Libes' Expect, but Pexpect is 
  pure Python. Other Expect-like modules for Python require TCL and Expect 
  or require C extensions to be compiled. Pexpect does not use C, Expect, 
  or TCL extensions. It should work on any platform that supports the 
  standard Python pty module. The Pexpect interface focuses on ease of use 
  so that simple tasks are easy.</p>
  <p>There are two main interfaces to Pexpect -- the function, run() and 
  the class, spawn. You can call the run() function to execute a command 
  and return the output. This is a handy replacement for os.system().</p>
  <p>For example:</p>
<pre class="literalblock">
   pexpect.run('ls -la')
</pre>
  <p>The more powerful interface is the spawn class. You can use this to 
  spawn an external child command and then interact with the child by 
  sending lines and expecting responses.</p>
  <p>For example:</p>
<pre class="literalblock">
   child = pexpect.spawn('scp foo myname@host.example.com:.')
   child.expect ('Password:')
   child.sendline (mypassword)
</pre>
  <p>This works even for commands that ask for passwords or other input 
  outside of the normal stdio streams.</p>
  <p>Credits: Noah Spurrier, Richard Holden, Marco Molteni, Kimberley 
  Burchett, Robert Stone, Hartmut Goebel, Chad Schroeder, Erick Tryzelaar, 
  Dave Kirby, Ids vander Molen, George Todd, Noel Taylor, Nicolas D. Cesar,
  Alexander Gattin, Jacques-Etienne Baudoux, Geoffrey Marshall, Francisco 
  Lourenco, Glen Mabey, Karthik Gurusamy, Fernando Perez, Corey Minyard, 
  Jon Cohen, Guillaume Chazarain, Andrew Ryan, Nick Craig-Wood, Andrew 
  Stone, Jorgen Grahn, John Spiegel, Jan Grant (Let me know if I forgot 
  anyone.)</p>
  <p>Free, open source, and all that good stuff.</p>
  <p>Permission is hereby granted, free of charge, to any person obtaining 
  a copy of this software and associated documentation files (the 
  &quot;Software&quot;), to deal in the Software without restriction, 
  including without limitation the rights to use, copy, modify, merge, 
  publish, distribute, sublicense, and/or sell copies of the Software, and 
  to permit persons to whom the Software is furnished to do so, subject to 
  the following conditions:</p>
  <p>The above copyright notice and this permission notice shall be 
  included in all copies or substantial portions of the Software.</p>
  <p>THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY 
  KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF 
  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
  NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, 
  DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR 
  OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
  USE OR OTHER DEALINGS IN THE SOFTWARE.</p>
  <p>Pexpect Copyright (c) 2008 Noah Spurrier 
  http://pexpect.sourceforge.net/</p>
  <p>$Id: pexpect.py 516 2008-05-23 20:46:01Z noah $</p>

<hr />
<div class="fields">      <p><strong>Version:</strong>
        2.4
      </p>
</div><!-- ==================== CLASSES ==================== -->
<a name="section-Classes"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Classes</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Classes"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="daeso.thirdparty.pexpect.ExceptionPexpect-class.html" class="summary-name">ExceptionPexpect</a><br />
      Base class for all exceptions raised by this module.
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="daeso.thirdparty.pexpect.EOF-class.html" class="summary-name">EOF</a><br />
      Raised when EOF is read from a child.
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="daeso.thirdparty.pexpect.TIMEOUT-class.html" class="summary-name">TIMEOUT</a><br />
      Raised when a read time exceeds the timeout.
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="daeso.thirdparty.pexpect.spawn-class.html" class="summary-name">spawn</a><br />
      This is the main class interface for Pexpect.
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="daeso.thirdparty.pexpect.searcher_string-class.html" class="summary-name" onclick="show_private();">searcher_string</a><br />
      This is a plain string search helper for the spawn.expect_any() method.
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="daeso.thirdparty.pexpect.searcher_re-class.html" class="summary-name" onclick="show_private();">searcher_re</a><br />
      This is regular expression string search helper for the
spawn.expect_any() method.
    </td>
  </tr>
</table>
<!-- ==================== FUNCTIONS ==================== -->
<a name="section-Functions"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Functions</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Functions"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="daeso.thirdparty.pexpect-module.html#run" class="summary-sig-name">run</a>(<span class="summary-sig-arg">command</span>,
        <span class="summary-sig-arg">timeout</span>=<span class="summary-sig-default">-1</span>,
        <span class="summary-sig-arg">withexitstatus</span>=<span class="summary-sig-default">False</span>,
        <span class="summary-sig-arg">events</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">extra_args</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">logfile</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">cwd</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">env</span>=<span class="summary-sig-default">None</span>)</span><br />
      This function runs the given command; waits for it to finish; then 
      returns all output as a string.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="daeso.thirdparty.pexpect-pysrc.html#run">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="daeso.thirdparty.pexpect-module.html#which" class="summary-sig-name">which</a>(<span class="summary-sig-arg">filename</span>)</span><br />
      This takes a given filename; tries to find it in the environment 
      path; then checks if it is executable.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="daeso.thirdparty.pexpect-pysrc.html#which">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="daeso.thirdparty.pexpect-module.html#split_command_line" class="summary-sig-name">split_command_line</a>(<span class="summary-sig-arg">command_line</span>)</span><br />
      This splits a command line into a list of arguments.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="daeso.thirdparty.pexpect-pysrc.html#split_command_line">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
</table>
<!-- ==================== VARIABLES ==================== -->
<a name="section-Variables"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Variables</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Variables"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="__package__"></a><span class="summary-name">__package__</span> = <code title="'daeso.thirdparty'"><code class="variable-quote">'</code><code class="variable-string">daeso.thirdparty</code><code class="variable-quote">'</code></code>
    </td>
  </tr>
</table>
<!-- ==================== FUNCTION DETAILS ==================== -->
<a name="section-FunctionDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Function Details</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-FunctionDetails"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
</table>
<a name="run"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">run</span>(<span class="sig-arg">command</span>,
        <span class="sig-arg">timeout</span>=<span class="sig-default">-1</span>,
        <span class="sig-arg">withexitstatus</span>=<span class="sig-default">False</span>,
        <span class="sig-arg">events</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">extra_args</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">logfile</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">cwd</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">env</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="daeso.thirdparty.pexpect-pysrc.html#run">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>This function runs the given command; waits for it to finish; then 
  returns all output as a string. STDERR is included in output. If the full
  path to the command is not given then the path is searched.</p>
  <p>Note that lines are terminated by CR/LF (\r\n) combination even on 
  UNIX-like systems because this is the standard for pseudo ttys. If you 
  set 'withexitstatus' to true, then run will return a tuple of 
  (command_output, exitstatus). If 'withexitstatus' is false then this 
  returns just command_output.</p>
  <p>The run() function can often be used instead of creating a spawn 
  instance. For example, the following code uses spawn:</p>
<pre class="literalblock">
   from pexpect import *
   child = spawn('scp foo myname@host.example.com:.')
   child.expect ('(?i)password')
   child.sendline (mypassword)
</pre>
  <p>The previous code can be replace with the following:</p>
<pre class="literalblock">
   from pexpect import *
   run ('scp foo myname@host.example.com:.', events={'(?i)password': mypassword})
</pre>
  <h1 class="heading">Examples</h1>
    <p>Start the apache daemon on the local machine:</p>
<pre class="literalblock">
   from pexpect import *
   run (&quot;/usr/local/apache/bin/apachectl start&quot;)
</pre>
    <p>Check in a file using SVN:</p>
<pre class="literalblock">
   from pexpect import *
   run (&quot;svn ci -m 'automatic commit' my_file.py&quot;)
</pre>
    <p>Run a command and capture exit status:</p>
<pre class="literalblock">
   from pexpect import *
   (command_output, exitstatus) = run ('ls -l /bin', withexitstatus=1)
</pre>
  <h1 class="heading">Tricky Examples</h1>
    <p>The following will run SSH and execute 'ls -l' on the remote 
    machine. The password 'secret' will be sent if the '(?i)password' 
    pattern is ever seen:</p>
<pre class="literalblock">
   run (&quot;ssh username@machine.example.com 'ls -l'&quot;, events={'(?i)password':'secret\n'})
</pre>
    <p>This will start mencoder to rip a video from DVD. This will also 
    display progress ticks every 5 seconds as it runs. For example:</p>
<pre class="literalblock">
   from pexpect import *
   def print_ticks(d):
       print d['event_count'],
   run (&quot;mencoder dvd://1 -o video.avi -oac copy -ovc copy&quot;, events={TIMEOUT:print_ticks}, timeout=5)
</pre>
    <p>The 'events' argument should be a dictionary of patterns and 
    responses. Whenever one of the patterns is seen in the command out 
    run() will send the associated response string. Note that you should 
    put newlines in your string if Enter is necessary. The responses may 
    also contain callback functions. Any callback is function that takes a 
    dictionary as an argument. The dictionary contains all the locals from 
    the run() function, so you can access the child spawn object or any 
    other variable defined in run() (event_count, child, and extra_args are
    the most useful). A callback may return True to stop the current run 
    process otherwise run() continues until the next event. A callback may 
    also return a string which will be sent to the child. 'extra_args' is 
    not used by directly run(). It provides a way to pass data to a 
    callback function through run() through the locals dictionary passed to
    a callback.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="which"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">which</span>(<span class="sig-arg">filename</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="daeso.thirdparty.pexpect-pysrc.html#which">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>This takes a given filename; tries to find it in the environment path;
  then checks if it is executable. This returns the full path to the 
  filename if found and executable. Otherwise this returns None.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="split_command_line"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">split_command_line</span>(<span class="sig-arg">command_line</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="daeso.thirdparty.pexpect-pysrc.html#split_command_line">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>This splits a command line into a list of arguments. It splits 
  arguments on spaces, but handles embedded quotes, doublequotes, and 
  escaped characters. It's impossible to do this with a regular expression,
  so I wrote a little state machine to parse the command line.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<br />
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="daeso-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

      <th class="navbar" width="100%"></th>
  </tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%%">
  <tr>
    <td align="left" class="footer">
    Generated by Epydoc 3.0.1 on Fri May 31 22:02:02 2013
    </td>
    <td align="right" class="footer">
      <a target="mainFrame" href="http://epydoc.sourceforge.net"
        >http://epydoc.sourceforge.net</a>
    </td>
  </tr>
</table>

<script type="text/javascript">
  <!--
  // Private objects are initially displayed (because if
  // javascript is turned off then we want them to be
  // visible); but by default, we want to hide them.  So hide
  // them unless we have a cookie that says to show them.
  checkCookie();
  // -->
</script>
</body>
</html>
